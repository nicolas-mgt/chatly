services:
  surrealdb:
    image: surrealdb/surrealdb:v3
    pull_policy: always
    ports:
      - "8000:8000"
    volumes:
      - surrealdb-data:/data
    command: start --user root --pass root rocksdb:/data/chatly.db
    environment:
      - SURREAL_CAPS_ALLOW_ALL=true

  seaweedfs:
    image: chrislusf/seaweedfs
    ports:
      - "9333:9333"
      - "8333:8333"
      - "8888:8888"
    volumes:
      - seaweedfs-data:/data
    command: server -s3 -dir=/data

volumes:
  surrealdb-data:
  seaweedfs-data:
